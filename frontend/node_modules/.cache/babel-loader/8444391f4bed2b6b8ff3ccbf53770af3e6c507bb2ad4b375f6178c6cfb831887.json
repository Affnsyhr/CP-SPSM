{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\Learning - Ku\\\\Project Gua\\\\Integrasi CP\\\\frontend\\\\src\\\\components\\\\auth\\\\ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function ProtectedRoute({\n  children,\n  allowedRoles\n}) {\n  _s();\n  const location = useLocation();\n  const user = JSON.parse(localStorage.getItem('user'));\n  if (!user) {\n    // Redirect ke login jika belum login\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 12\n    }, this);\n  }\n  if (allowedRoles && !allowedRoles.includes(user.role)) {\n    // Redirect ke dashboard sesuai role jika tidak memiliki akses\n    switch (user.role) {\n      case 'admin':\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/admin/dashboard\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 16\n        }, this);\n      case 'superadmin':\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/super-admin/dashboard\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/dashboard\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 16\n        }, this);\n    }\n  }\n  return children;\n}\n_s(ProtectedRoute, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c = ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["React","Navigate","useLocation","jsxDEV","_jsxDEV","ProtectedRoute","children","allowedRoles","_s","location","user","JSON","parse","localStorage","getItem","to","state","from","replace","fileName","_jsxFileName","lineNumber","columnNumber","includes","role","_c","$RefreshReg$"],"sources":["C:/Users/USER/Documents/Learning - Ku/Project Gua/Integrasi CP/frontend/src/components/auth/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\n\r\nexport function ProtectedRoute({ children, allowedRoles }) {\r\n  const location = useLocation();\r\n  const user = JSON.parse(localStorage.getItem('user'));\r\n\r\n  if (!user) {\r\n    // Redirect ke login jika belum login\r\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\r\n  }\r\n\r\n  if (allowedRoles && !allowedRoles.includes(user.role)) {\r\n    // Redirect ke dashboard sesuai role jika tidak memiliki akses\r\n    switch (user.role) {\r\n      case 'admin':\r\n        return <Navigate to=\"/admin/dashboard\" replace />;\r\n      case 'superadmin':\r\n        return <Navigate to=\"/super-admin/dashboard\" replace />;\r\n      default:\r\n        return <Navigate to=\"/dashboard\" replace />;\r\n    }\r\n  }\r\n\r\n  return children;\r\n} "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,OAAO,SAASC,cAAcA,CAAC;EAAEC,QAAQ;EAAEC;AAAa,CAAC,EAAE;EAAAC,EAAA;EACzD,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAMQ,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAErD,IAAI,CAACJ,IAAI,EAAE;IACT;IACA,oBAAON,OAAA,CAACH,QAAQ;MAACc,EAAE,EAAC,QAAQ;MAACC,KAAK,EAAE;QAAEC,IAAI,EAAER;MAAS,CAAE;MAACS,OAAO;IAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpE;EAEA,IAAIf,YAAY,IAAI,CAACA,YAAY,CAACgB,QAAQ,CAACb,IAAI,CAACc,IAAI,CAAC,EAAE;IACrD;IACA,QAAQd,IAAI,CAACc,IAAI;MACf,KAAK,OAAO;QACV,oBAAOpB,OAAA,CAACH,QAAQ;UAACc,EAAE,EAAC,kBAAkB;UAACG,OAAO;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACnD,KAAK,YAAY;QACf,oBAAOlB,OAAA,CAACH,QAAQ;UAACc,EAAE,EAAC,wBAAwB;UAACG,OAAO;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MACzD;QACE,oBAAOlB,OAAA,CAACH,QAAQ;UAACc,EAAE,EAAC,YAAY;UAACG,OAAO;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;IAC/C;EACF;EAEA,OAAOhB,QAAQ;AACjB;AAACE,EAAA,CAtBeH,cAAc;EAAA,QACXH,WAAW;AAAA;AAAAuB,EAAA,GADdpB,cAAc;AAAA,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}